<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>git remote operation - Wiki | janes</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Git">Git</a>&nbsp;»&nbsp;git remote operation</div>
</div>
<div class="clearfix"></div>
<div id="title">git remote operation</div>
  <div id="content">
  <h1 id="git-clone">git clone</h1>
<ul>
<li>
<p>git clone &lt;版本库的网址&gt; [本地目录名]</p>
</li>
<li>
<p>本地目录名可选，不指定的话，新建与远程目录名同名的本地目录</p>
</li>
<li>
<p>git clone支持多种协议，除了HTTP(s)以外，还支持SSH、Git、本地文件协议等，下面是一些例子。</p>
</li>
</ul>
<div class="hlcode"><pre><span class="err">$</span> <span class="nx">git</span> <span class="nx">clone</span> <span class="nx">git</span><span class="p">@</span><span class="nx">github.com</span><span class="p">:</span><span class="o">&lt;</span><span class="nx">username</span><span class="o">&gt;/</span><span class="nx">repo</span>

<span class="err">$</span> <span class="nx">git</span> <span class="nx">clone</span> <span class="nx">http</span><span class="err">[</span><span class="nb">s</span><span class="cp">]</span>://example.com/path/to/repo.git/
$ git clone ssh://example.com/path/to/repo.git/
$ git clone git://example.com/path/to/repo.git/
$ git clone /opt/git/project.git 
$ git clone file:///opt/git/project.git
$ git clone ftp<span class="cp">[</span><span class="nb">s</span><span class="cp">]</span>://example.com/path/to/repo.git/
$ git clone rsync://example.com/path/to/repo.git/
</pre></div>


<p>一般来说，Git协议下载速度最快</p>
<ol>
<li>克隆版本库的时候，所使用的远程主机自动被Git命名为origin。如果想用其他的主机名，需要用git clone命令的-o选项指定。</li>
</ol>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="o">-</span><span class="n">o</span> <span class="n">jQuery</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/jquery/jquery.git</span>
</pre></div>


<p>上面命令表示，克隆的时候，指定远程主机叫做jQuery。</p>
<h1 id="git-remote">git remote</h1>
<p>为了便于管理，Git要求每个远程主机都必须指定一个主机名。git remote命令就用于管理主机名。</p>
<p>不带选项的时候，git remote命令列出所有远程主机。
使用-v选项，可以参看远程主机的网址。</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">git</span> <span class="n">remote</span>
<span class="n">origin</span>

<span class="err">$</span> <span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
<span class="n">origin</span>  <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">jquery</span><span class="o">/</span><span class="n">jquery</span><span class="p">.</span><span class="n">git</span> <span class="p">(</span><span class="n">fetch</span><span class="p">)</span>
<span class="n">origin</span>  <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">jquery</span><span class="o">/</span><span class="n">jquery</span><span class="p">.</span><span class="n">git</span> <span class="p">(</span><span class="n">push</span><span class="p">)</span>
</pre></div>


<p>上面命令表示，当前只有一台远程主机，叫做origin，以及它的网址。</p>
<ul>
<li>
<p>git remote show &lt;主机名&gt;, 查看该主机的详细信息。</p>
</li>
<li>
<p>git remote add &lt;主机名&gt; &lt;网址&gt; 添加远程主机</p>
</li>
<li>
<p>git remote rm &lt;主机名&gt; 删除远程主机。</p>
</li>
<li>
<p>git remote rename  &lt;原主机名&gt; &lt;新主机名&gt; 远程主机的改名。</p>
</li>
</ul>
<h1 id="git-fetch">git fetch</h1>
<ul>
<li>git fetch &lt;远程主机名&gt; &lt;分支名&gt;</li>
</ul>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<p>取回远程主机的更新以后，可以在它的基础上，使用git checkout命令创建一个新的分支</p>
<ul>
<li>
<p>$ git checkout -b newBrach origin/master 在origin/master的基础上，创建一个新分支</p>
</li>
<li>
<p>git merge origin/master 本地分支上合并远程分支 origin/master</p>
</li>
</ul>
<h1 id="git-pull">git pull</h1>
<p>git pull命令的作用是，取回远程主机某个分支的更新，再与本地的指定分支合并</p>
<ul>
<li>$ git pull &lt;远程主机名&gt; &lt;远程分支名&gt;[:&lt;本地分支名&gt;]</li>
</ul>
<div class="hlcode"><pre><span class="cp">#取回origin主机的next分支，与本地的master分支合并</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">next</span><span class="o">:</span><span class="n">master</span>
</pre></div>


<p>如果远程分支是与当前分支合并，则冒号及其后面的部分可以省略</p>
<h1 id="git-push">git push</h1>
<p>git push命令用于将本地分支的更新，推送到远程主机。它的格式与git pull命令相仿。</p>
<ul>
<li>
<p>$ git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</p>
</li>
<li>
<p>如果省略远程分支名，则表示将本地分支推送与之存在"追踪关系"的远程分支.如果该远程分支不存在，则会被新建。</p>
</li>
<li>
<p>如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。</p>
</li>
</ul>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="o">:</span><span class="n">master</span>
<span class="cp"># 等同于</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="o">--</span><span class="n">delete</span> <span class="n">master</span>
</pre></div>


<ol>
<li>如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样后面就可以不加任何参数使用git push。</li>
</ol>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<ol>
<li>如果远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做git pull合并差异，然后再推送到远程主机。如果一定要推送，可以使用--force选项。</li>
</ol>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="n">force</span> <span class="n">origin</span>
</pre></div>


<p>使用--force选项，结果导致远程主机上更新的版本被覆盖。</p>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2016 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>
<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>Iterators - Wiki | janes</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Python">Python</a>&nbsp;»&nbsp;Iterators</div>
</div>
<div class="clearfix"></div>
<div id="title">Iterators</div>
  <div id="content">
  <h2 id="itertools">Itertools</h2>
<p><a href="http://www.wklken.me/posts/2013/08/20/python-extra-itertools.html">PYTHON进阶 ITERTOOLS模块小结</a></p>
<p><a href="https://docs.python.org/2/library/itertools.html">python docs itertools</a></p>
<h3 id="infinite-iterators">Infinite Iterators</h3>
<p>无限迭代</p>
<div class="hlcode"><pre><span class="n">count</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="p">...</span>
<span class="n">cycle</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABCD</span><span class="err">&#39;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="p">...</span>
<span class="n">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">3</span> <span class="p">...</span>   <span class="n">repeat</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">3</span>
</pre></div>


<h3 id="iterators-terminating-on-the-shortest-input-sequence">Iterators terminating on the shortest input sequence</h3>
<p>处理输入迭代</p>
<div class="hlcode"><pre><span class="n">chain</span><span class="p">(</span><span class="s">&#39;ABC&#39;</span><span class="p">,</span> <span class="s">&#39;DEF&#39;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">F</span>
<span class="n">compress</span><span class="p">(</span><span class="s">&#39;ABCDEF&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">--&gt;</span> <span class="n">A</span> <span class="n">C</span> <span class="n">E</span> <span class="n">F</span>
<span class="n">dropwhile</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">--&gt;</span> <span class="mi">6</span> <span class="mi">4</span> <span class="mi">1</span>
<span class="n">groupby</span><span class="p">([</span><span class="s">&#39;aa&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abcd&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;ccf&#39;</span><span class="p">],</span> <span class="nb">len</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="p">[</span><span class="s">&#39;aa&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">]</span> <span class="p">[</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ccf&#39;</span><span class="p">]</span> <span class="p">[</span><span class="s">&#39;abcd&#39;</span><span class="p">]</span>    
<span class="n">ifilter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">--&gt;</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">9</span>
<span class="n">ifilterfalse</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">--&gt;</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">6</span> <span class="mi">8</span>
<span class="n">islice</span><span class="p">(</span><span class="s">&#39;ABCDEFG&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="n">F</span> <span class="n">G</span>
<span class="n">imap</span><span class="p">(</span><span class="nb">pow</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="o">--&gt;</span> <span class="mi">32</span> <span class="mi">9</span> <span class="mi">1000</span>
<span class="n">starmap</span><span class="p">(</span><span class="nb">pow</span><span class="p">,</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span> <span class="o">--&gt;</span> <span class="mi">32</span> <span class="mi">9</span> <span class="mi">1000</span>
<span class="n">tee</span><span class="p">()</span>   <span class="n">it</span><span class="p">,</span> <span class="n">n</span>   <span class="n">it1</span><span class="p">,</span> <span class="n">it2</span><span class="p">,</span> <span class="o">...</span> <span class="n">itn</span> <span class="n">splits</span> <span class="n">one</span> <span class="n">iterator</span> <span class="n">into</span> <span class="n">n</span>     
<span class="n">takewhile</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">--&gt;</span> <span class="mi">1</span> <span class="mi">4</span>
<span class="n">izip</span><span class="p">(</span><span class="s">&#39;ABCD&#39;</span><span class="p">,</span> <span class="s">&#39;xy&#39;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">Ax</span> <span class="n">By</span>
<span class="n">izip_longest</span><span class="p">(</span><span class="s">&#39;ABCD&#39;</span><span class="p">,</span> <span class="s">&#39;xy&#39;</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s">&#39;-&#39;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">Ax</span> <span class="n">By</span> <span class="n">C</span><span class="o">-</span> <span class="n">D</span><span class="o">-</span>
</pre></div>


<h3 id="combinatoric-generators">Combinatoric generators</h3>
<p>组合生成</p>
<div class="hlcode"><pre><span class="n">product</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABCD</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>   <span class="n">AA</span> <span class="n">AB</span> <span class="n">AC</span> <span class="n">AD</span> <span class="n">BA</span> <span class="n">BB</span> <span class="n">BC</span> <span class="n">BD</span> <span class="n">CA</span> <span class="n">CB</span> <span class="n">CC</span> <span class="n">CD</span> <span class="n">DA</span> <span class="n">DB</span> <span class="n">DC</span> <span class="n">DD</span>
<span class="n">permutations</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABCD</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>     <span class="n">AB</span> <span class="n">AC</span> <span class="n">AD</span> <span class="n">BA</span> <span class="n">BC</span> <span class="n">BD</span> <span class="n">CA</span> <span class="n">CB</span> <span class="n">CD</span> <span class="n">DA</span> <span class="n">DB</span> <span class="n">DC</span>
<span class="n">combinations</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABCD</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>     <span class="n">AB</span> <span class="n">AC</span> <span class="n">AD</span> <span class="n">BC</span> <span class="n">BD</span> <span class="n">CD</span>
<span class="n">combinations_with_replacement</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABCD</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">AA</span> <span class="n">AB</span> <span class="n">AC</span> <span class="n">AD</span> <span class="n">BB</span> <span class="n">BC</span> <span class="n">BD</span> <span class="n">CC</span> <span class="n">CD</span> <span class="n">DD</span>
</pre></div>


<ul>
<li>chain</li>
</ul>
<blockquote>
<p>chain(*iterables) --&gt; chain object</p>
</blockquote>
<p>Return a chain object whose .next() method returns elements from the
first iterable until it is exhausted, then elements from the next
iterable, until all of the iterables are exhausted.</p>
<ul>
<li>combinations</li>
</ul>
<blockquote>
<p>combinations(iterable, r) --&gt; combinations object</p>
</blockquote>
<p>Return successive r-length combinations of elements in the iterable.</p>
<div class="hlcode"><pre><span class="n">combinations</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<ul>
<li>combinations_with_replacement</li>
</ul>
<blockquote>
<p>combinations_with_replacement(iterable, r) --&gt; combinations_with_replacement object</p>
</blockquote>
<p>Return successive r-length combinations of elements in the iterable
allowing individual elements to have successive repeats.</p>
<div class="hlcode"><pre><span class="n">combinations_with_replacement</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ABC</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">AA</span> <span class="n">AB</span> <span class="n">AC</span> <span class="n">BB</span> <span class="n">BC</span> <span class="n">CC</span>
</pre></div>


<ul>
<li>compress</li>
</ul>
<blockquote>
<p>compress(data, selectors) --&gt; iterator over selected data</p>
</blockquote>
<p>Return data elements corresponding to true selector elements.
Forms a shorter iterator from selected data elements using the
selectors to choose the data elements.</p>
<ul>
<li>count</li>
</ul>
<blockquote>
<p>count(start=0, step=1) --&gt; count object</p>
</blockquote>
<p>Return a count object whose .next() method returns consecutive values.</p>
<p>Equivalent to:</p>
<div class="hlcode"><pre>    <span class="n">def</span> <span class="n">count</span><span class="p">(</span><span class="n">firstval</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">firstval</span>
        <span class="k">while</span> <span class="mi">1</span><span class="o">:</span>
            <span class="n">yield</span> <span class="n">x</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="n">step</span>
</pre></div>


<ul>
<li>cycle</li>
</ul>
<blockquote>
<p>cycle(iterable) --&gt; cycle object</p>
</blockquote>
<p>Return elements from the iterable until it is exhausted.
Then repeat the sequence indefinitely.</p>
<ul>
<li>dropwhile</li>
</ul>
<blockquote>
<p>dropwhile(predicate, iterable) --&gt; dropwhile object</p>
</blockquote>
<p>Drop items from the iterable while predicate(item) is true.
Afterwards, return every element until the iterable is exhausted.</p>
<ul>
<li>groupby</li>
</ul>
<blockquote>
<p>groupby(iterable[, keyfunc]) -&gt; create an iterator which returns
(key, sub-iterator) grouped by each value of key(value).</p>
</blockquote>
<ul>
<li>ifilter</li>
</ul>
<blockquote>
<p>ifilter(function or None, sequence) --&gt; ifilter object</p>
</blockquote>
<p>Return those items of sequence for which function(item) is true.
If function is None, return the items that are true.</p>
<ul>
<li>ifilterfalse</li>
</ul>
<blockquote>
<p>ifilterfalse(function or None, sequence) --&gt; ifilterfalse object</p>
</blockquote>
<p>Return those items of sequence for which function(item) is false.
If function is None, return the items that are false.</p>
<ul>
<li>imap</li>
</ul>
<blockquote>
<p>imap(func, *iterables) --&gt; imap object</p>
</blockquote>
<p>Make an iterator that computes the function using arguments from
each of the iterables.  Like map() except that it returns
an iterator instead of a list and that it stops when the shortest
iterable is exhausted instead of filling in None for shorter
iterables.</p>
<ul>
<li>islice</li>
</ul>
<blockquote>
<p>islice(iterable, [start,] stop [, step]) --&gt; islice object</p>
</blockquote>
<p>Return an iterator whose next() method returns selected values from an
iterable.  If start is specified, will skip all preceding elements;
otherwise, start defaults to zero.  Step defaults to one.  If
specified as another value, step determines how many values are 
skipped between successive calls.  Works like a slice() on a list
but returns an iterator.</p>
<ul>
<li>izip</li>
</ul>
<blockquote>
<p>izip(iter1 [,iter2 [...]]) --&gt; izip object</p>
</blockquote>
<p>Return a izip object whose .next() method returns a tuple where
the i-th element comes from the i-th iterable argument.  The .next()
method continues until the shortest iterable in the argument sequence
is exhausted and then it raises StopIteration.  Works like the zip()
function but consumes less memory by returning an iterator instead of
a list.</p>
<ul>
<li>izip_longest</li>
</ul>
<blockquote>
<p>izip_longest(iter1 [,iter2 [...]], [fillvalue=None]) --&gt; izip_longest object</p>
</blockquote>
<p>Return an izip_longest object whose .next() method returns a tuple where
the i-th element comes from the i-th iterable argument.  The .next()
method continues until the longest iterable in the argument sequence
is exhausted and then it raises StopIteration.  When the shorter iterables
are exhausted, the fillvalue is substituted in their place.  The fillvalue
defaults to None or can be specified by a keyword argument.</p>
<ul>
<li>permutations</li>
</ul>
<blockquote>
<p>permutations(iterable[, r]) --&gt; permutations object</p>
</blockquote>
<p>Return successive r-length permutations of elements in the iterable.</p>
<div class="hlcode"><pre><span class="n">permutations</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<ul>
<li>product</li>
</ul>
<blockquote>
<p>product(*iterables) --&gt; product object</p>
</blockquote>
<p>Cartesian product of input iterables.  Equivalent to nested for-loops.</p>
<p>For example, product(A, B) returns the same as:  ((x,y) for x in A for y in B).
The leftmost iterators are in the outermost for-loop, so the output tuples
cycle in a manner similar to an odometer (with the rightmost element changing
on every iteration).</p>
<p>To compute the product of an iterable with itself, specify the number
of repetitions with the optional repeat keyword argument. For example,
product(A, repeat=4) means the same as product(A, A, A, A).</p>
<div class="hlcode"><pre><span class="n">product</span><span class="p">(</span><span class="err">&#39;</span><span class="n">ab</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">--&gt;</span> <span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">product</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">--&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">...</span>
</pre></div>


<ul>
<li>repeat</li>
</ul>
<blockquote>
<p>repeat(object [,times]) -&gt; create an iterator which returns the object</p>
</blockquote>
<p>for the specified number of times.  If not specified, returns the object
endlessly.</p>
<ul>
<li>starmap</li>
</ul>
<blockquote>
<p>starmap(function, sequence) --&gt; starmap object</p>
</blockquote>
<p>Return an iterator whose values are returned from the function evaluated
with an argument tuple taken from the given sequence.</p>
<ul>
<li>takewhile</li>
</ul>
<blockquote>
<p>takewhile(predicate, iterable) --&gt; takewhile object</p>
</blockquote>
<p>Return successive entries from an iterable as long as the 
predicate evaluates to true for each entry.</p>
<ul>
<li>tee </li>
</ul>
<blockquote>
<p>tee(iterable, n=2) --&gt; tuple of n independent iterators.</p>
</blockquote>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2016 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>
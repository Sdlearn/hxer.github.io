<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>string and encode - Wiki | janes</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Python">Python</a>&nbsp;»&nbsp;string and encode</div>
</div>
<div class="clearfix"></div>
<div id="title">string and encode</div>
  <div id="content">
  <p>默认 python2.7.11</p>
<p>二进制：    ‘0b’ 开头
八进制：    ‘0o’ 开头
十六进制：  ‘0x’ 开头</p>
<ul>
<li>整数 &lt;==&gt; 字符串</li>
</ul>
<div class="hlcode"><pre>hex()       hex(number) -&gt; string       
&gt; hex(10) ==&gt; &#39;0xa&#39;

int()       int(x, base=10) -&gt; int or long
&gt; int(&#39;0b100&#39;, 0) ==&gt; 4
&gt; int(&#39;0b100&#39;, 2) ==&gt; 4
&gt; int(&#39;0x10&#39;, 16) ==&gt; 16
&gt; int(&#39;10&#39;, 16)   ==&gt; 16

bin()       bin(number) -&gt; string
&gt; bin(4) ==&gt; &#39;0b100&#39;

&quot;{0:b}&quot;.format(4) ==&gt; &#39;100&#39;
</pre></div>


<ul>
<li>整数 &lt;==&gt; 字节串</li>
</ul>
<p>short:2字节， long：4字节</p>
<div class="hlcode"><pre><span class="kn">import</span> <span class="nn">struct</span>

<span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&lt;HH&#39;</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x00\x00</span><span class="s1">&#39;</span><span class="p">))</span> <span class="o">==&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&lt;L&#39;</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s1">&#39;</span><span class="se">\x01\x00\x00\x00</span><span class="s1">&#39;</span><span class="p">))</span>  <span class="o">==&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>

<span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&lt;HH&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>    <span class="o">==&gt;</span> <span class="s1">&#39;</span><span class="se">\x01\x00\x02\x00</span><span class="s1">&#39;</span>
<span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&lt;LL&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>    <span class="o">==&gt;</span> <span class="s1">&#39;</span><span class="se">\x01\x00\x00\x00\x02\x00\x00\x00</span><span class="s1">&#39;</span>
</pre></div>


<ul>
<li>16进制串 &lt;==&gt; 字符串</li>
</ul>
<div class="hlcode"><pre>&#39;abc&#39;.encode(&#39;hex&#39;)     ==&gt; &#39;616263&#39;
binascii.b2a_hex(&#39;abc&#39;) ==&gt; &#39;616263&#39;
binascii.hexlify(&#39;abc&#39;) ==&gt; &#39;616263&#39;

&#39;616263&#39;.decode(&#39;hex&#39;)      ==&gt; &#39;abc&#39;
binascii.a2b_hex(&#39;616263&#39;)  ==&gt; &#39;abc&#39;
binascii.unhexlify(&#39;616263&#39;)==&gt; &#39;abc&#39;
</pre></div>


<ul>
<li>字符串 &lt;==&gt; 字节串</li>
</ul>
<div class="hlcode"><pre>
</pre></div>


<ul>
<li>unicode</li>
</ul>
<p>\u 后面是十六进制的Unicode码</p>
<div class="hlcode"><pre>+ prefix u

u‘中文’ ==&gt; u&#39;\u4e2d\u6587&#39;

+ unicode 强制转换

要求 python文件中指定了对应的编码类型；并且对应的python文件的确是以该编码方式保存的
</pre></div>


<div class="hlcode"><pre><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="nb">unicode</span><span class="p">(</span><span class="s1">&#39;中文&#39;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="s1">u&#39;</span><span class="se">\u4e2d\u6587</span><span class="s1">&#39;</span>
</pre></div>


<ul>
<li>unicode &lt;==&gt; string</li>
</ul>
<p>unicode ==&gt; string : encode</p>
<p>string  ==&gt; unicode: decode</p>
<h2 id="base64">base64</h2>
<ul>
<li>characters set</li>
</ul>
<div class="hlcode"><pre>ABCDEFGHIJKLMNOP
QRSTUVWXYZabcdef
ghijklmnopqrstuv
wxyz0123456789+/
</pre></div>


<hr />
<h1 id="python3">python3</h1>
<p>字符串转字节串:</p>
<div class="hlcode"><pre>字符串编码为字节码: &#39;12abc&#39;.encode(&#39;ascii&#39;)  ==&gt;  b&#39;12abc&#39;
数字或字符数组: bytes([1,2, ord(&#39;1&#39;),ord(&#39;2&#39;)])  ==&gt;  b&#39;\x01\x0212&#39;
16进制字符串: bytes().fromhex(&#39;010210&#39;)  ==&gt;  b&#39;\x01\x02\x10&#39;
16进制字符串: bytes(map(ord, &#39;\x01\x02\x31\x32&#39;))  ==&gt;  b&#39;\x01\x0212&#39;
16进制数组: bytes([0x01,0x02,0x31,0x32])  ==&gt;  b&#39;\x01\x0212&#39;
</pre></div>


<p>字节串转字符串:</p>
<div class="hlcode"><pre><span class="s s-Atom">字节码解码为字符串:</span> <span class="nf">bytes</span><span class="p">(</span><span class="s s-Atom">b&#39;\x31\x32\x61\x62&#39;</span><span class="p">).</span><span class="nf">decode</span><span class="p">(</span><span class="s s-Atom">&#39;ascii&#39;</span><span class="p">)</span>  <span class="s s-Atom">==&gt;</span>  <span class="mi">12</span><span class="s s-Atom">ab</span>
<span class="s s-Atom">字节串转16进制表示</span><span class="p">,</span><span class="s s-Atom">夹带ascii:</span> <span class="nf">str</span><span class="p">(</span><span class="nf">bytes</span><span class="p">(</span><span class="s s-Atom">b&#39;\x01\x0212&#39;</span><span class="p">))[</span><span class="mi">2</span><span class="p">:-</span><span class="mi">1</span><span class="p">]</span>  <span class="s s-Atom">==&gt;</span>  <span class="s s-Atom">\x01\x0212</span>
<span class="s s-Atom">字节串转16进制表示</span><span class="p">,</span><span class="s s-Atom">固定两个字符表示:</span> <span class="nf">str</span><span class="p">(</span><span class="s s-Atom">binascii</span><span class="p">.</span><span class="nf">b2a_hex</span><span class="p">(</span><span class="s s-Atom">b&#39;\x01\x0212&#39;</span><span class="p">))[</span><span class="mi">2</span><span class="p">:-</span><span class="mi">1</span><span class="p">]</span>  <span class="s s-Atom">==&gt;</span>  <span class="mi">01023132</span>
<span class="s s-Atom">字节串转16进制数组:</span> <span class="p">[</span><span class="nf">hex</span><span class="p">(</span><span class="s s-Atom">x</span><span class="p">)</span> <span class="s s-Atom">for</span> <span class="s s-Atom">x</span> <span class="s s-Atom">in</span> <span class="nf">bytes</span><span class="p">(</span><span class="s s-Atom">b&#39;\x01\x0212&#39;</span><span class="p">)]</span>  <span class="s s-Atom">==&gt;</span>  <span class="p">[</span><span class="s s-Atom">&#39;0x1&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;0x2&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;0x31&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;0x32&#39;</span><span class="p">]</span>
</pre></div>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2016 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>
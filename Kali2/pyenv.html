<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>Pyenv - Wiki | janes</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Kali2">Kali2</a>&nbsp;»&nbsp;Pyenv</div>
</div>
<div class="clearfix"></div>
<div id="title">Pyenv</div>
  <div id="content">
  <h2 id="pyenv">pyenv 快速入门</h2>
<ul>
<li>install </li>
</ul>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">https</span><span class="o">:</span><span class="c1">//raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash</span>
</pre></div>


<p>install requirements</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">make</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">zlib1g</span><span class="o">-</span><span class="n">dev</span> <span class="n">libbz2</span><span class="o">-</span><span class="n">dev</span> \
<span class="n">libreadline</span><span class="o">-</span><span class="n">dev</span> <span class="n">libsqlite3</span><span class="o">-</span><span class="n">dev</span> <span class="n">wget</span> <span class="n">curl</span> <span class="n">llvm</span>
</pre></div>


<ul>
<li>add PATH</li>
</ul>
<p>add follow to the end of file .bashrc</p>
<div class="hlcode"><pre><span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s">&quot;/home/hx/.pyenv/bin:$PATH&quot;</span>
<span class="n">eval</span> <span class="s">&quot;$(pyenv init -)&quot;</span>
<span class="n">eval</span> <span class="s">&quot;$(pyenv virtualenv-init -)&quot;</span>
</pre></div>


<ul>
<li>利用virtualenv 创建虚拟python环境</li>
</ul>
<p>现在我们已经安装了多个python版本，要求系统环境足够干净的，这时候我们可以使用virtualenv来创建虚拟python环境</p>
<p>virtualenv本是一个独立的工具，官网在这里：https://pypi.python.org/pypi/virtualenv</p>
<p>如果你是安装我们前面的方式安装pyenv的，那它已经帮我们以plugin的形式安装好了virtualenv, 我们只要使用就好了</p>
<ul>
<li>安装特定版本</li>
</ul>
<div class="hlcode"><pre><span class="n">pyenv</span> <span class="n">install</span> <span class="mf">3.5.1</span>
</pre></div>


<ul>
<li>首先我们创建一个2.7.1的虚拟环境</li>
</ul>
<div class="hlcode"><pre><span class="err">$</span><span class="o">:</span><span class="n">pyenv</span> <span class="n">virtualenv</span> <span class="mf">3.5.1</span> <span class="n">env351</span>
</pre></div>


<p>这条命令在本机上创建了一个名为env271的python虚拟环境，这个环境的真实目录位于：~/.pyenv/versions/</p>
<blockquote>
<p>命令中的 ‘3.5.1’ 必须是一个安装前面步骤已经安装好的python版本， 否则会出错。</p>
</blockquote>
<ul>
<li>进入虚拟环境</li>
</ul>
<div class="hlcode"><pre><span class="cp"># change to python 3.4.3 virtual environment, &quot;deactivate&quot; logout</span>
<span class="n">pyenv</span> <span class="n">activate</span> <span class="n">env351</span>
</pre></div>


<blockquote>
<p>pyenv 创建版本存放路径: /home/haoxi/.pyenv</p>
</blockquote>
<p>然后我们可以继续通过 ‘pyenv versions’ 命令来查看当前的虚拟环境</p>
<ul>
<li>删除这个虚拟环境</li>
</ul>
<p>只要直接删除它所在的目录就好：</p>
<div class="hlcode"><pre><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">~/</span><span class="p">.</span><span class="n">pyenv</span><span class="o">/</span><span class="n">versions</span><span class="o">/</span><span class="n">env271</span><span class="o">/</span>
</pre></div>


<h2 id="command-reference">Command Reference</h2>
<p>Like git, the pyenv command delegates to subcommands based on its first argument.</p>
<p>The most common subcommands are:</p>
<div class="hlcode"><pre><span class="n">pyenv</span> <span class="n">commands</span>
<span class="n">pyenv</span> <span class="n">local</span>
<span class="n">pyenv</span> <span class="n">global</span>
<span class="n">pyenv</span> <span class="n">shell</span>
<span class="n">pyenv</span> <span class="n">install</span>
<span class="n">pyenv</span> <span class="n">uninstall</span>
<span class="n">pyenv</span> <span class="n">rehash</span>
<span class="n">pyenv</span> <span class="n">version</span>
<span class="n">pyenv</span> <span class="n">versions</span>
<span class="n">pyenv</span> <span class="n">which</span>
<span class="n">pyenv</span> <span class="n">whence</span>
<span class="n">pyenv</span> <span class="n">commands</span>
</pre></div>


<p>Lists all available pyenv commands.</p>
<ul>
<li>pyenv local</li>
</ul>
<p>Sets a local application-specific Python version by writing the version name to a .python-version file in the current directory. This version overrides the global version, and can be overridden itself by setting the PYENV_VERSIONenvironment variable or with the pyenv shell command.</p>
<p>$ pyenv local 2.7.6</p>
<p>When run without a version number, pyenv local reports the currently configured local version. You can also unset the local version:</p>
<p>$ pyenv local --unset</p>
<p>Previous versions of pyenv stored local version specifications in a file named .pyenv-version. For backwards compatibility, pyenv will read a local version specified in an .pyenv-version file, but a .python-version file in the same directory will take precedence.</p>
<ul>
<li>pyenv local (advanced)</li>
</ul>
<p>You can specify multiple versions as local Python at once.</p>
<p>Let's say if you have two versions of 2.7.6 and 3.3.3. If you prefer 2.7.6 over 3.3.3,</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">pyenv</span> <span class="n">local</span> <span class="mf">2.7.6</span> <span class="mf">3.3.3</span>
<span class="err">$</span> <span class="n">pyenv</span> <span class="n">versions</span>
  <span class="n">system</span>
<span class="o">*</span> <span class="mf">2.7.6</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="p">.</span><span class="n">python</span><span class="o">-</span><span class="n">version</span><span class="p">)</span>
<span class="o">*</span> <span class="mf">3.3.3</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="p">.</span><span class="n">python</span><span class="o">-</span><span class="n">version</span><span class="p">)</span>
<span class="err">$</span> <span class="n">python</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">python2</span><span class="mf">.7</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">python3</span><span class="mf">.3</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">3.3.3</span>
</pre></div>


<p>or, if you prefer 3.3.3 over 2.7.6,</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">pyenv</span> <span class="n">local</span> <span class="mf">3.3.3</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">pyenv</span> <span class="n">versions</span>
  <span class="n">system</span>
<span class="o">*</span> <span class="mf">2.7.6</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="p">.</span><span class="n">python</span><span class="o">-</span><span class="n">version</span><span class="p">)</span>
<span class="o">*</span> <span class="mf">3.3.3</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="p">.</span><span class="n">python</span><span class="o">-</span><span class="n">version</span><span class="p">)</span>
  <span class="n">venv27</span>
<span class="err">$</span> <span class="n">python</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">3.3.3</span>
<span class="err">$</span> <span class="n">python2</span><span class="mf">.7</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">python3</span><span class="mf">.3</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">3.3.3</span>
</pre></div>


<ul>
<li>pyenv global</li>
</ul>
<p>Sets the global version of Python to be used in all shells by writing the version name to the ~/.pyenv/version file. This version can be overridden by an application-specific .python-version file, or by setting the PYENV_VERSIONenvironment variable.</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">pyenv</span> <span class="n">global</span> <span class="mf">2.7.6</span>
</pre></div>


<p>The special version name system tells pyenv to use the system Python (detected by searching your $PATH).</p>
<p>When run without a version number, pyenv global reports the currently configured global version.</p>
<p>pyenv global (advanced)</p>
<p>You can specify multiple versions as global Python at once.</p>
<p>Let's say if you have two versions of 2.7.6 and 3.3.3. If you prefer 2.7.6 over 3.3.3,</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">pyenv</span> <span class="n">global</span> <span class="mf">2.7.6</span> <span class="mf">3.3.3</span>
<span class="err">$</span> <span class="n">pyenv</span> <span class="n">versions</span>
  <span class="n">system</span>
<span class="o">*</span> <span class="mf">2.7.6</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="p">.</span><span class="n">pyenv</span><span class="o">/</span><span class="n">version</span><span class="p">)</span>
<span class="o">*</span> <span class="mf">3.3.3</span> <span class="p">(</span><span class="n">set</span> <span class="n">by</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">yyuu</span><span class="o">/</span><span class="p">.</span><span class="n">pyenv</span><span class="o">/</span><span class="n">version</span><span class="p">)</span>
<span class="err">$</span> <span class="n">python</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">python2</span><span class="mf">.7</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">2.7.6</span>
<span class="err">$</span> <span class="n">python3</span><span class="mf">.3</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">3.3.3</span>
</pre></div>


<p>or, if you prefer 3.3.3 over 2.7.6,</p>
<p>````
$ pyenv global 3.3.3 2.7.6
$ pyenv versions
  system
<em> 2.7.6 (set by /Users/yyuu/.pyenv/version)
</em> 3.3.3 (set by /Users/yyuu/.pyenv/version)
  venv27
$ python --version
Python 3.3.3
$ python2.7 --version
Python 2.7.6
$ python3.3 --version
Python 3.3.3</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">shell</span>

<span class="n">Sets</span> <span class="n">a</span> <span class="n">shell</span><span class="o">-</span><span class="n">specific</span> <span class="n">Python</span> <span class="n">version</span> <span class="n">by</span> <span class="n">setting</span> <span class="n">the</span> <span class="n">PYENV_VERSION</span> <span class="n">environment</span> <span class="n">variable</span> <span class="n">in</span> <span class="n">your</span> <span class="n">shell</span><span class="p">.</span> <span class="n">This</span> <span class="n">version</span> <span class="n">overrides</span> <span class="n">application</span><span class="o">-</span><span class="n">specific</span> <span class="n">versions</span> <span class="n">and</span> <span class="n">the</span> <span class="n">global</span> <span class="n">version</span><span class="p">.</span>


<span class="err">$</span> <span class="n">pyenv</span> <span class="n">shell</span> <span class="n">pypy</span><span class="o">-</span><span class="mf">2.2.1</span>

<span class="n">When</span> <span class="n">run</span> <span class="n">without</span> <span class="n">a</span> <span class="n">version</span> <span class="n">number</span><span class="p">,</span> <span class="n">pyenv</span> <span class="n">shell</span> <span class="n">reports</span> <span class="n">the</span> <span class="n">current</span> <span class="n">value</span> <span class="n">of</span> <span class="n">PYENV_VERSION</span><span class="p">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">also</span> <span class="n">unset</span> <span class="n">the</span> <span class="n">shell</span> <span class="n">version</span><span class="o">:</span>

<span class="err">$</span> <span class="n">pyenv</span> <span class="n">shell</span> <span class="o">--</span><span class="n">unset</span>

<span class="n">Note</span> <span class="n">that</span> <span class="n">you</span><span class="err">&#39;</span><span class="n">ll</span> <span class="n">need</span> <span class="n">pyenv</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">shell</span> <span class="n">integration</span> <span class="n">enabled</span> <span class="p">(</span><span class="n">step</span> <span class="mi">3</span> <span class="n">of</span> <span class="n">the</span> <span class="n">installation</span> <span class="n">instructions</span><span class="p">)</span> <span class="n">in</span> <span class="n">order</span> <span class="n">to</span> <span class="n">use</span> <span class="n">this</span> <span class="n">command</span><span class="p">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">prefer</span> <span class="n">not</span> <span class="n">to</span> <span class="n">use</span> <span class="n">shell</span> <span class="n">integration</span><span class="p">,</span> <span class="n">you</span> <span class="n">may</span> <span class="n">simply</span> <span class="n">set</span> <span class="n">the</span> <span class="n">PYENV_VERSION</span> <span class="n">variable</span> <span class="n">yourself</span><span class="o">:</span>

<span class="err">$</span> <span class="n">export</span> <span class="n">PYENV_VERSION</span><span class="o">=</span><span class="n">pypy</span><span class="o">-</span><span class="mf">2.2.1</span>

<span class="n">pyenv</span> <span class="n">shell</span> <span class="p">(</span><span class="n">advanced</span><span class="p">)</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">specify</span> <span class="n">multiple</span> <span class="n">versions</span> <span class="n">via</span> <span class="n">PYENV_VERSION</span> <span class="n">at</span> <span class="n">once</span><span class="p">.</span>

<span class="n">Let</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">say</span> <span class="k">if</span> <span class="n">you</span> <span class="n">have</span> <span class="n">two</span> <span class="n">versions</span> <span class="n">of</span> <span class="mf">2.7.6</span> <span class="n">and</span> <span class="mf">3.3.3</span><span class="p">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">prefer</span> <span class="mf">2.7.6</span> <span class="n">over</span> <span class="mf">3.3.3</span><span class="p">,</span>
</pre></div>


<p>$ pyenv shell 2.7.6 3.3.3
$ pyenv versions
  system
<em> 2.7.6 (set by PYENV_VERSION environment variable)
</em> 3.3.3 (set by PYENV_VERSION environment variable)
$ python --version
Python 2.7.6
$ python2.7 --version
Python 2.7.6
$ python3.3 --version
Python 3.3.3</p>
<div class="hlcode"><pre><span class="n">or</span><span class="p">,</span> <span class="k">if</span> <span class="n">you</span> <span class="n">prefer</span> <span class="mf">3.3.3</span> <span class="n">over</span> <span class="mf">2.7.6</span><span class="p">,</span>
</pre></div>


<p>$ pyenv shell 3.3.3 2.7.6
$ pyenv versions
  system
<em> 2.7.6 (set by PYENV_VERSION environment variable)
</em> 3.3.3 (set by PYENV_VERSION environment variable)
  venv27
$ python --version
Python 3.3.3
$ python2.7 --version
Python 2.7.6
$ python3.3 --version
Python 3.3.3</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">install</span>

<span class="n">Install</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">version</span> <span class="p">(</span><span class="n">using</span> <span class="n">python</span><span class="o">-</span><span class="n">build</span><span class="p">).</span>
</pre></div>


<p>Usage: pyenv install [-f] [-kvp] <version>
       pyenv install [-f] [-kvp] <definition-file>
       pyenv install -l|--list</p>
<p>-l/--list        List all available versions
  -f/--force       Install even if the version appears to be installed already</p>
<p>python-build options:</p>
<p>-k/--keep        Keep source tree in $PYENV_BUILD_ROOT after installation
                   (defaults to $PYENV_ROOT/sources)
  -v/--verbose     Verbose mode: print compilation status to stdout
  -p/--patch       Apply a patch from stdin before building
  -g/--debug       Build a debug version</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">uninstall</span>

<span class="n">Uninstall</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">Python</span> <span class="n">version</span><span class="p">.</span>
</pre></div>


<p>Usage: pyenv uninstall [-f|--force] <version></p>
<p>-f  Attempt to remove the specified version without prompting
       for confirmation. If the version does not exist, do not
       display an error message.</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">rehash</span>

<span class="n">Installs</span> <span class="n">shims</span> <span class="k">for</span> <span class="n">all</span> <span class="n">Python</span> <span class="n">binaries</span> <span class="n">known</span> <span class="n">to</span> <span class="n">pyenv</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">e</span><span class="p">.,</span> <span class="o">~/</span><span class="p">.</span><span class="n">pyenv</span><span class="o">/</span><span class="n">versions</span><span class="o">/</span><span class="err">*/</span><span class="n">bin</span><span class="o">/*</span><span class="p">).</span> <span class="n">Run</span> <span class="n">this</span> <span class="n">command</span> <span class="n">after</span> <span class="n">you</span> <span class="n">install</span> <span class="n">a</span> <span class="n">new</span> <span class="n">version</span> <span class="n">of</span> <span class="n">Python</span><span class="p">,</span> <span class="n">or</span> <span class="n">install</span> <span class="n">a</span> <span class="n">package</span> <span class="n">that</span> <span class="n">provides</span> <span class="n">binaries</span><span class="p">.</span>

<span class="err">$</span> <span class="n">pyenv</span> <span class="n">rehash</span>

<span class="o">*</span> <span class="n">pyenv</span> <span class="n">version</span>

<span class="n">Displays</span> <span class="n">the</span> <span class="n">currently</span> <span class="n">active</span> <span class="n">Python</span> <span class="n">version</span><span class="p">,</span> <span class="n">along</span> <span class="n">with</span> <span class="n">information</span> <span class="n">on</span> <span class="n">how</span> <span class="n">it</span> <span class="n">was</span> <span class="n">set</span><span class="p">.</span>

<span class="o">*</span> <span class="n">pyenv</span> <span class="n">versions</span>

<span class="n">Lists</span> <span class="n">all</span> <span class="n">Python</span> <span class="n">versions</span> <span class="n">known</span> <span class="n">to</span> <span class="n">pyenv</span><span class="p">,</span> <span class="n">and</span> <span class="n">shows</span> <span class="n">an</span> <span class="n">asterisk</span> <span class="n">next</span> <span class="n">to</span> <span class="n">the</span> <span class="n">currently</span> <span class="n">active</span> <span class="n">version</span><span class="p">.</span>
</pre></div>


<p>$ pyenv versions
* 2.7.6 (set by /home/yyuu/.pyenv/version)
  3.3.3
  jython-2.5.3
  pypy-2.2.1</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">which</span>

<span class="n">Displays</span> <span class="n">the</span> <span class="n">full</span> <span class="n">path</span> <span class="n">to</span> <span class="n">the</span> <span class="n">executable</span> <span class="n">that</span> <span class="n">pyenv</span> <span class="n">will</span> <span class="n">invoke</span> <span class="n">when</span> <span class="n">you</span> <span class="n">run</span> <span class="n">the</span> <span class="n">given</span> <span class="n">command</span><span class="p">.</span>
</pre></div>


<p>$ pyenv which python3.3
/home/yyuu/.pyenv/versions/3.3.3/bin/python3.3</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">whence</span>

<span class="n">Lists</span> <span class="n">all</span> <span class="n">Python</span> <span class="n">versions</span> <span class="n">with</span> <span class="n">the</span> <span class="n">given</span> <span class="n">command</span> <span class="n">installed</span><span class="p">.</span>
</pre></div>


<p>$ pyenv whence 2to3
2.6.8
2.7.6
3.3.3</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">pyenv</span> <span class="n">install</span>

<span class="n">Part</span> <span class="n">of</span> <span class="n">Python</span><span class="o">-</span><span class="n">build</span><span class="p">,</span> <span class="n">this</span> <span class="n">installs</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">python</span>
</pre></div>


<p>$ pyenv install 2.7.6
$ pyenv install 2.6.8
$ pyenv versions
  system
  2.6.8
* 2.7.6 (set by /home/yyuu/.pyenv/version)
```</p>
<ul>
<li>pyenv install --list</li>
</ul>
<p>List available remote versions of Python, including Anaconda, Jython, pypy, and stackless</p>
<p>$ pyenv install --list</p>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2016 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>
<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>install and configure - Wiki | janes</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Kali2">Kali2</a>&nbsp;»&nbsp;install and configure</div>
</div>
<div class="clearfix"></div>
<div id="title">install and configure</div>
  <div id="content">
  <h2 id="_1">更新源</h2>
<p>vim /etc/apt/sources.list</p>
<div class="hlcode"><pre><span class="c">#中科大源</span>
<span class="k">deb</span> <span class="s">http://mirrors.ustc.edu.cn/kali</span> <span class="kp">sana</span> <span class="kp">main</span> <span class="kp">non-free</span> <span class="kp">contrib</span> 
<span class="kp">deb-src</span> <span class="kp">http://mirrors.ustc.edu.cn/kali</span> <span class="kp">sana</span> <span class="kp">main</span> <span class="kp">non-free</span> <span class="kp">contrib</span> 
<span class="kp">deb</span> <span class="kp">http://mirrors.ustc.edu.cn/kali-security/</span> <span class="kp">sana/updates</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span> 
<span class="kp">deb-src</span> <span class="kp">http://mirrors.ustc.edu.cn/kali-security/</span> <span class="kp">sana/updates</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span>
<span class="c">#阿里云kali源</span>
<span class="k">deb</span> <span class="s">http://mirrors.aliyun.com/kali</span> <span class="kp">sana</span> <span class="kp">main</span> <span class="kp">non-free</span> <span class="kp">contrib</span>
<span class="k">deb</span> <span class="s">http://mirrors.aliyun.com/kali-security/</span> <span class="kp">sana/updates</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span>
<span class="k">deb-src</span> <span class="s">http://mirrors.aliyun.com/kali-security/</span> <span class="kp">sana/updates</span> <span class="kp">main</span> <span class="kp">contrib</span> <span class="kp">non-free</span>
</pre></div>


<h2 id="_2">安装输入法</h2>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">fcitx</span> <span class="n">fcitx</span><span class="o">-</span><span class="n">googlepinyin</span>
</pre></div>


<p>配置：应用程序&gt;常用程序&gt;系统工具&gt;首选项&gt;Fcitx配置 添加拼音</p>
<p>重启或用户注销</p>
<h2 id="vpn">安装vpn</h2>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">openvpn</span><span class="o">-</span><span class="n">gnome</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">pptp</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">pptp</span><span class="o">-</span><span class="n">gnome</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">vpnc</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">vpnc</span><span class="o">-</span><span class="n">gnome</span>
</pre></div>


<h2 id="_3">安装火狐</h2>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">remove</span> <span class="n">iceweasel</span>
<span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">deb http://downloads.sourceforge.net/project/ubuntuzilla/mozilla/apt all main&quot;</span> <span class="o">|</span> <span class="n">tee</span> <span class="o">-</span><span class="n">a</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="p">.</span><span class="n">list</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span>
<span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">adv</span> <span class="o">--</span><span class="n">recv</span><span class="o">-</span><span class="n">keys</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keyserver</span><span class="p">.</span><span class="n">ubuntu</span><span class="p">.</span><span class="n">com</span> <span class="n">C1289A29</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">firefox</span><span class="o">-</span><span class="n">mozilla</span><span class="o">-</span><span class="n">build</span>
</pre></div>


<h2 id="chromium">安装Chromium</h2>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">isntall</span> <span class="n">chromium</span>
</pre></div>


<h2 id="_4">新增用户</h2>
<div class="hlcode"><pre><span class="n">useradd</span> <span class="o">-</span><span class="n">m</span> <span class="n">username</span>
<span class="n">passwd</span> <span class="n">username</span>
<span class="n">usermod</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">G</span> <span class="n">sudo</span> <span class="n">username</span>
<span class="n">chsh</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="n">username</span>
<span class="n">id</span> <span class="n">username</span>         <span class="err">#查看配置</span>
</pre></div>


<h2 id="ssh">开启SSH服务</h2>
<div class="hlcode"><pre><span class="c">#vi /etc/ssh/sshd_config   </span>
</pre></div>


<p>将#PasswordAuthentication no的注释去掉，并且将NO修改为YES
将#PermitRootLogin yes的注释去掉</p>
<p>启动SSH服务</p>
<div class="hlcode"><pre><span class="c">#/etc/init.d/ssh start    //or service ssh start</span>
</pre></div>


<p>验证SSH服务状态</p>
<div class="hlcode"><pre><span class="c">#/etc/init.d/ssh status</span>
</pre></div>


<p>开机自启动</p>
<div class="hlcode"><pre><span class="c"># vi /etc/init.d/rc.local</span>
<span class="c">#service ssh start  // add for sshd autorun</span>
</pre></div>


<h2 id="proxy">proxy</h2>
<ul>
<li>socks proxy</li>
</ul>
<p>1.安装</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">proxychains</span>
</pre></div>


<p>2.编辑proxychains配置</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">vim</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">proxychains</span><span class="p">.</span><span class="n">conf</span>
</pre></div>


<p>3.将socks4 127.0.0.1 9095改为</p>
<blockquote>
<p>socks5 127.0.0.1 1080</p>
</blockquote>
<p>ps: 默认的socks4 127.0.0.1 9095是tor代理，而socks5 127.0.0.1 1080是shadowsocks的代理</p>
<p>4.使用方法</p>
<p>在需要代理的命令前加上 proxychains ，如：</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">sudo</span> <span class="n">proxychains</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
</pre></div>


<h2 id="ftp">ftp</h2>
<ul>
<li>vsftp</li>
</ul>
<p>install</p>
<div class="hlcode"><pre><span class="err">$</span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">vsftpd</span>
</pre></div>


<p>config</p>
<div class="hlcode"><pre><span class="nv">$vim</span> <span class="p">/</span><span class="nx">etc</span><span class="p">/</span><span class="nx">vsftpd.conf</span>
    <span class="n">Write_enable</span><span class="o">=</span><span class="nx">YES</span> <span class="err">将前面的#去掉</span>
    <span class="n">chroot_local_user</span><span class="o">=</span><span class="nx">YES</span> <span class="err">将前面的#去掉</span>
<span class="nv">$mkdir</span> <span class="p">/</span><span class="nb">home</span><span class="p">/</span><span class="nx">hx</span><span class="p">/</span><span class="nx">ftp</span>
<span class="nv">$chmod</span> <span class="na">-R</span> <span class="mi">777</span> <span class="nx">ftp</span>
<span class="nv">$chmod</span> <span class="nx">a</span><span class="na">-w</span> <span class="nx">ftp</span>
<span class="nv">$sudo</span> <span class="nx">useradd</span> <span class="na">-g</span> <span class="nx">ftp</span> <span class="na">-d</span> <span class="p">/</span><span class="nb">home</span><span class="p">/</span><span class="nx">hx</span><span class="p">/</span><span class="nx">ftp</span><span class="o">/</span> <span class="o">&lt;</span><span class="nb">user</span><span class="o">&gt;</span>
<span class="nv">$sudo</span> <span class="nx">passwd</span> <span class="o">&lt;</span><span class="nb">user</span><span class="o">&gt;</span>
<span class="nv">$sudo</span> <span class="nx">service</span> <span class="nx">vsftpd</span> <span class="nb">restart</span>
</pre></div>


<h2 id="weblamp">web环境(LAMP)配置</h2>
<p>1.apache 服务启动     </p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">service</span> <span class="n">apache2</span> <span class="n">start</span>
</pre></div>


<p>2.修改网站默认打开路径 </p>
<div class="hlcode"><pre><span class="p">/</span><span class="nx">etc</span><span class="p">/</span><span class="nx">apache2</span><span class="p">/</span><span class="nx">sites</span><span class="na">-enabled</span><span class="p">/</span><span class="nx">000</span><span class="na">-default.conf</span>    
        <span class="err">修改“</span><span class="nb">DocumentRoot</span> <span class="p">/</span><span class="nb">var</span><span class="p">/</span><span class="nx">www</span><span class="p">/</span><span class="nx">html</span><span class="s2">&quot; to &quot;</span><span class="nb">DocumentRoot</span> <span class="nx">yourpath</span><span class="s2">&quot;     这是修改80端口</span>
<span class="s2">/etc/apache2/sites-available/default*</span>
<span class="s2">        修改“DocumentRoot /var/www/html&quot;</span> <span class="k">to</span> <span class="s2">&quot;DocumentRoot yourpath&quot;</span>     <span class="err">这是修改</span><span class="mi">443</span><span class="err">端口（可选）</span>
<span class="p">/</span><span class="nx">etc</span><span class="p">/</span><span class="nx">apache2</span><span class="p">/</span><span class="nx">apache2.conf</span>
        <span class="err">增加如下内容</span><span class="o">--</span><span class="err">进入权限</span>
        <span class="o">&lt;</span><span class="nx">Directory</span> <span class="nx">yourpath</span><span class="o">&gt;</span>
            <span class="nx">Options</span> <span class="nx">Indexes</span> <span class="nx">FollowSymLinks</span>
            <span class="nx">AllowOverride</span> <span class="kc">None</span>
            <span class="k">Require</span> <span class="n">all</span> <span class="nx">granted</span>
        <span class="o">&lt;/</span><span class="nx">Directory</span><span class="o">&gt;</span>
</pre></div>


<p>2.mysql 服务启动        </p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">service</span> <span class="n">mysql</span> <span class="n">start</span>
</pre></div>


<p>3.php 配置      </p>
<p>直接在/var/www/html/(默认情况)目录放php文件，即可通过 http://127.0.0.1/xx.php 来访问 
修改php.ini文件， 改为"display_errors = On"     重启apache生效</p>
<p>4.织梦模板</p>
<p>下载织梦源码包，解压，按要求操作！
a.安装GD扩展库：     </p>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">php5</span><span class="o">-</span><span class="n">gd</span>
</pre></div>


<p>b.php.ini(/etc/php5/apache2/php.ini) 找到 ”[gd]“， 在该区域下增加一行”extension=gd.so“</p>
<h2 id="funny-tool">funny tool</h2>
<ul>
<li>1.fuck</li>
</ul>
<p>install</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="o">-</span> <span class="n">https</span><span class="o">:</span><span class="c1">//raw.githubusercontent.com/nvbn/thefuck/master/install.sh | sh - &amp;&amp; $0</span>
</pre></div>


<p>use</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">fuck</span>
</pre></div>


<h2 id="_5">命令行锁屏</h2>
<div class="hlcode"><pre><span class="cp"># apt-get install gnome-screensaver</span>
<span class="err">$</span> <span class="n">gnome</span><span class="o">-</span><span class="n">screensaver</span><span class="o">-</span><span class="n">command</span> <span class="o">-</span><span class="n">l</span>     <span class="err">#</span><span class="n">lock</span>
<span class="err">$</span> <span class="n">gnome</span><span class="o">-</span><span class="n">screensaver</span><span class="o">-</span><span class="n">command</span> <span class="o">-</span><span class="n">a</span>     <span class="err">#</span><span class="n">active</span>
</pre></div>


<h2 id="_6">系统设置</h2>
<ul>
<li>终端快捷键</li>
</ul>
<p>设置&gt;键盘&gt;快捷键&gt;自定义快捷键</p>
<p>名称：终端
命令：gnome-terminal</p>
<p>添加后，单击那一行，按下 ctrl+alt+T</p>
<ul>
<li>设置屏幕刷新率</li>
</ul>
<div class="hlcode"><pre><span class="err">$</span><span class="n">xrandr</span> <span class="o">-</span><span class="n">r</span> <span class="mi">60</span>
</pre></div>


<h2 id="vmware">vmware</h2>
<ol>
<li>Install linux-headers-$(uname -r)</li>
</ol>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">linux</span><span class="o">-</span><span class="n">headers</span><span class="o">-</span><span class="err">$</span><span class="p">(</span><span class="n">uname</span> <span class="o">-</span><span class="n">r</span><span class="p">)</span>
</pre></div>


<ol>
<li>
<p>Download and Install VMWare as normal</p>
</li>
<li>
<p>Patch for Kernel 4.0</p>
</li>
</ol>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">curl</span> <span class="n">http</span><span class="o">:</span><span class="c1">//pastie.org/pastes/9934018/download -o /tmp/vmnet-3.19.patch</span>
<span class="n">Extract</span> <span class="n">the</span> <span class="n">vmnet</span> <span class="n">module</span> <span class="n">sources</span><span class="o">:</span>
<span class="err">$</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">vmware</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="n">source</span>


<span class="cp"># tar -xf vmnet.tar</span>
<span class="n">Apply</span> <span class="n">the</span> <span class="n">patch</span><span class="o">:</span>
<span class="cp"># patch -p0 -i /tmp/vmnet-3.19.patch</span>
<span class="n">Recreate</span> <span class="n">the</span> <span class="n">archive</span><span class="o">:</span>
<span class="cp"># tar -cf vmnet.tar vmnet-only</span>
<span class="n">Remove</span> <span class="n">leftover</span><span class="o">:</span>
<span class="cp"># rm -r -only</span>
<span class="n">Rebuild</span> <span class="n">modules</span><span class="o">:</span>
<span class="cp"># vmware-modconfig --console --install-all</span>

<span class="n">Fix</span> <span class="n">network</span> <span class="n">vitural</span> <span class="n">not</span> <span class="n">complie</span>
<span class="cp"># - as root user</span>
<span class="err">$</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">vmware</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="n">source</span>
<span class="err">$</span> <span class="n">tar</span> <span class="o">-</span><span class="n">xvf</span> <span class="n">vmnet</span><span class="p">.</span><span class="n">tar</span>
<span class="cp"># - edit the file vmnet-only/netif.c and replace the line that looks like</span>
<span class="n">dev</span> <span class="o">=</span> <span class="n">allocnetdev</span><span class="p">(</span><span class="k">sizeof</span> <span class="n">netIf</span><span class="p">,</span> <span class="n">deviceName</span><span class="p">,</span> <span class="n">VNetNetIfSetup</span><span class="p">);</span>
<span class="n">to</span>
<span class="n">dev</span> <span class="o">=</span> <span class="n">allocnetdev</span><span class="p">(</span><span class="k">sizeof</span> <span class="n">netIf</span><span class="p">,</span> <span class="n">deviceName</span><span class="p">,</span> <span class="n">NETNAMEUNKNOWN</span><span class="p">,</span> <span class="n">VNetNetIfSetup</span><span class="p">);</span>
<span class="err">$</span> <span class="n">tar</span> <span class="o">-</span><span class="n">cvf</span> <span class="n">vmnet</span><span class="p">.</span><span class="n">tar</span> <span class="n">vmnet</span><span class="o">-</span><span class="n">only</span><span class="o">/</span>
<span class="err">$</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">vmnet</span><span class="o">-</span><span class="n">only</span><span class="o">/</span>
</pre></div>


<p>key：1A2ZZ-8RH06-AZTJ1-7A17H-32RM8</p>
<h2 id="webgoat">webgoat</h2>
<ul>
<li>
<p>快速使用</p>
<ul>
<li>已安装java的条件下，根据github上说明进行安装，下载"*jar"文件</li>
</ul>
<p><code>https://github.com/WebGoat/WebGoat-Legacy/releases</code></p>
<ul>
<li>run</li>
</ul>
<p><code>java -jar WebGoat-6.0.1-war.exec.jar".</code></p>
<ul>
<li>browse </li>
</ul>
<p><code>http://localhost:8080/WebGoat</code></p>
</li>
<li>
<p>安装源码（for developers）</p>
<ul>
<li>下载source文件</li>
<li>下载JAVA JDK，满足安装要求的版本，Kali自带java jdk且满足要求</li>
<li>下载配置maven， http://maven.apache.org/  </li>
</ul>
<p>按要求下载 apache-maven-3.2.3-bin.tar.gz    </p>
<p>下载文件解压至/usr/local/目录下</p>
<p>vi /etc/profile 设置全局变量</p>
<p><code>M2_HOME=/usr/local/apache-maven-3.2.3 
        export M2_HOME 
        PATH=$PATH:$M2_HOME/bin 
        export PATH</code></p>
<p>```</p>
<h1 id="source-etcprofile">source /etc/profile  生效</h1>
<p>```</p>
<p>测试是否成功</p>
<p>```</p>
<h1 id="mvn-v">mvn -v</h1>
<p>``` </p>
<ul>
<li>maven 修建项目</li>
</ul>
<p>```</p>
<h1 id="cd-webgoat-webgoat">cd webgoat* #(webgoat 源码解压目录),</h1>
<h1 id="mvn-clean-package">mvn clean package</h1>
<h1 id="mvn-tomcatrun-war">mvn tomcat:run-war</h1>
<p>```</p>
<ul>
<li>选用eclipse，安装maven插件，</li>
</ul>
<p>name为：m2e, </p>
<p>location为：http://download.eclipse.org/technology/m2e/releases</p>
<p>当这样安装插件时会报错，原因是m2e插件和eclipse版本不匹配导致，location改为：http://download.eclipse.org/technology/m2e/releases/1.4 即可。</p>
</li>
</ul>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2016 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>